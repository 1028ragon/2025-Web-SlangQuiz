import axios from 'axios';

// 1. axios ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
// API ìš”ì²­ì˜ ê¸°ë³¸ URLê³¼ ê³µí†µ ì„¤ì •ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.
const apiClient = axios.create({
    // ğŸš¨ API ì„œë²„ì˜ ê¸°ë³¸ URLì„ ì‹¤ì œ í™˜ê²½ì— ë§ê²Œ ìˆ˜ì •í•´ì£¼ì„¸ìš”.
    // ì˜ˆ: baseURL: 'http://localhost:8080/api'
    baseURL: 'http://13.209.74.70:8080',

    // âœ… 2. ì¿ í‚¤ë¥¼ ì£¼ê³ ë°›ê¸° ìœ„í•œ í•„ìˆ˜ ì„¤ì •
    // ì´ ì˜µì…˜ì´ trueë¡œ ì„¤ì •ë˜ì–´ì•¼ ë¸Œë¼ìš°ì €ê°€ ì„œë²„ë¡œë¶€í„° ë°›ì€ ì¿ í‚¤ë¥¼ ì €ì¥í•˜ê³ ,
    // ì´í›„ì˜ ìš”ì²­ì— ìë™ìœ¼ë¡œ í¬í•¨í•˜ì—¬ ì „ì†¡í•©ë‹ˆë‹¤.
    // í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì˜ ë„ë©”ì¸ì´ ë‹¤ë¥¸ ê²½ìš°(CORS)ì— ë°˜ë“œì‹œ í•„ìš”í•©ë‹ˆë‹¤.
    withCredentials: true, 
});
export const submitNicknameApi = (trimmedNickname) => {
    // POST ìš”ì²­ìœ¼ë¡œ '/users/nickname' ì—”ë“œí¬ì¸íŠ¸ì— ë‹‰ë„¤ì„ ë°ì´í„°ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤.
    // ì‹¤ì œ ì—”ë“œí¬ì¸íŠ¸ëŠ” ì„œë²„ API ëª…ì„¸ì— ë§ê²Œ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.
    return apiClient.post('/start', {'nickname':trimmedNickname});
};
